// ==UserScript==
// @name              E-Zond-Beta
// @name:ru           E-Zond-Beta
// @namespace         http://tampermonkey.net/
// @version           11-beta
// @description       Well, this is the simplest script for Evades.io, in which there is nothing special, but there is a lot of interesting and useful things
// @description:ru    ÐÑƒ, ÑÑ‚Ð¾ ÑÐ°Ð¼Ñ‹Ð¹ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ Evades.io, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ Ð½ÐµÑ‚Ñƒ Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾Ð³Ð¾, Ð½Ð¾ ÐµÑÑ‚ÑŒ Ð¼Ð½Ð¾Ð³Ð¾ Ñ‡ÐµÐ³Ð¾ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ð¾Ð³Ð¾ Ð¸ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾Ð³Ð¾
// @author            .zirolio.
// @license           CC-BY-NC-ND-4.0
// @icon              data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCA4ODg4ODg4ODg4ODg4ODg4ODhAODg8OFxMYGhcTFxcaICwjGhwoIRcVJDUlKC0vMjIzGiQ4QEUwQCwxMi8BCwsLDg4PFxAQFy8gICAvLzEvLzEvLzEvMjExMTExLzwvMzIxMTEvLzEvMTEvMTExLy8vLy8vMS8xLy8xMzExMf/AABEIAOEA4QMBIgACEQEDEQH/xAAbAAADAQEBAQEAAAAAAAAAAAAAAQIDBgUEB//EAEMQAAIBAwIDAwgHBAgHAAAAAAABAgMEEQUSBiExE0FRFCJUYXGBkZMVMkJSodHSJDNVghZTYpXBwtPhB0NlkpSxsv/EABgBAAMBAQAAAAAAAAAAAAAAAAABAgME/8QAMxEAAgIAAwYFAgQHAQAAAAAAAAECERIhMQNBUWFx8IGRobHB0fEyUtLhEyJCU3KSogT/2gAMAwEAAhEDEQA/APyEAAo6QAAAAAAAAAAAAAYAMQwAYAADABAMAAQhgACAYCAQAACAAAAAAAAAAAAAAAAAAAAAAAAAAGAwABjAQwwPA6GIeB4HgdDokMF4AeEdEYEaBgMIURgWC8CwLCKiRFYDBNCJAYgEIBiEAAAAIAAAAAAAAAAAAAAYDAAGMAHgEhpFJFBgaRSQ0i1EqhJDwVgpI0USqIwGDTAsFYR0RgMF4HgMIUZYE0a4JwS4iozaJaNWiWiGiaM8CLaJaM2iWiQGIkkQDEIAAAAQAAAAAAAAwAYxgNICkikihpDSBItI0SLSBIpIEikjVRLSEkVgaRSRqolpEYHgvA8FYR0Z4Fg1wLAYQozwS0a4JaJcRNGbRLRq0Q0ZyiQ0ZtEtGjRLRk0Q0ZNCNGiDJohokBiJJEAAIQAAAADEMBgUhDRSGUkUkJItI0ii0NIpISRaRtFGiQJFpAkWkbxiaJAkdnpfB1tWsKd9U1CFGM6sqUouhUqRpzXSM5RfmtrD5rvXicckdj/w5qyld1LKeZUL2hcUq8Ps4VOclPH3k48n3bmbJVFvhnonks3ra05XlW8W0tRcluzJXBlCazS1jTJeqpXdD/6iN8AXcsdlcWFdPpKleUmn7M4OWmsSlz72JSl96fxN3Cm093JfDRX8Pafm9F+x6ur8LahYpTuLecKbeFNJTg33edFtL2M8TB03C+vztKvZVm6tjXfZ3FtJ7oTpy5OSj3SXVNYfI+fijRvIblxhLtLerGNa2rLnGrQnzjLPj3P1ohw4d8eNNdXk740K08Mvv37HgNCaNGhNGTiU0YtEtGrRDRlKJDRk0S0aNEtGMombRk0S0aNENGMkZtEMllMRkQIQxEiAAABAMAQxjKRKLiUikUi0SjRG8UaIaRaRKNEbxRqkNItIIopI3jE0SGkdjwqlaWGo6hLlJ0vIqDbSzVrfWa9cYRz737uRiu47LiVeS6dpunR+vOm76vFf1lVYgn4NQTXvOiEdFx+79q8fEU1eGHF+izZx/XmdFoXDTrwd1d1PJLGDxOtUWXUl9ylHrKXXpyWH7D0LDQ7ewpQvNWzmS3W+nxe2vX8JVP6un+L/AAfj65rte+mnNxhSittGjTWyjRgukYx7vb1NEr08/px6/hXN5DxOeUNOP04vnoestB0q8SVhfulWfKNHUVCl2jzhONWGYZfdHqz1YaLd1rOWlX1CVO6o76umVpJSjUaWalupp4eUtyWe7n0RyvClu6upWUMN5uLdyS+4qibfwTPr1zXLny+tKnXqKnC+rV6MVOThCoqjxOKfJf7jwtur89zzS4Zap3nVq7M5bOblgTuldvdu1+pzNWm4txkmmm001hp+DMmjr+P6MPKLe5jBQd9Z215UgliMalTdux7XHPvOTaMmrzS1NYSU4qXEyaIaNZIiSMJRE0ZNGbRqyGjnkjNmbM2atEMwkjKRkyS2QYMzYhFMRJIgABCGCBDQxjLiQiy4louJojOJaOiJoi4mkSImkToijVFI0iQjRHRE1ibUMKccrK3LK6ZR+gcTaorLVq10qFO47a3t6tlUqpyp0ounDbUjHo8bZY8HzPzyJ2Wo/tui2tx1q2FTyOr3vsJLdSk/UmnFe06IrTxXnXzFLndE7RLFG9Hl518ofHE5XMdNv87vKbKnCpLvlcUpSjU7sfdOTwdboCWo6fV0xteU0pu5sdzS7R7NtSgm+mUtyXjnwOZnQnCUoShJSTcXGScZKSeGmn0Zrs4/0pae276dUzT/AM6pPZ74+2qOi4Dp7LmteNebY2tzcPpznGGIx597clj2HkaFpsr2+o26eO0qpTl3xgnulL3JSfuPfuI/R2kdjLzbnU5wqzg+UoWcOcM+G6XP2GeiR8h0u8v35tW5zYWz70pLNaa8MRWE+5g283Hkl4aeCbk/8Ve8zcn/ADzjveGPfC22eVxjqUbu+qSpfuKW23t0ukbemtscep4b/mPAaNJPvIZnJJZLQ2UFGKitxnJGbNWZs55IhmcjORqzORzSMZGbIkaSM2c8jJmbJZbM2YSM2IQxGZAgABCGhoSGhjGizMtFxLRpE1iZRNEdETRFxNImcS0dETWJrE0iZROz0XSaFnbx1PU1mD52do+U7qa6Skn9Wku99/rylLph333SzZbmoo8u14b1GtTjUp2dedOSTjKNCo4yT74vHNetHVcH6Hfxd1Z3NpcU6F9bTp75UakadOvHz6M5Nrlhpr2yOYv+KNQuKs6rua0Nz5Qp1Jwpwj3RUU8JI+da5femXH/kVfzN82mlS83zW/jyQpR2s41kr6mSdShUe1yp1KdTrFuMoyi+5ro00dLDjStJJ1rWwuK8VFRua9tGpXWOjbWE2u7kcm5NvLeW+bbHk2ajLVd+/qdEtnCdY1dHo17i4v7lSqSlVr1qsYpvnKcm0lFdyXRJdEdPxrpd3BULWlbV/I7CjCl2ypT7OdaTTqVE8fak0vccRGo4tOLaaaaaeGn4o6XhO5ubzUbWjVuKs6TqxqVITrTnCUKeajTTeH9UJOmpbop2vDdXCNpdd5ntk41ONVFPLP45GtbhCjSk6dzqtnQrxUe0pPfN05NJ7W1HGeaMnwtY/wAasvhV/SeHrl67m8uK7/5tarNeqLk2l8MHnNmUsSybz6R8dz6EqO0aTc8+iOqfClj/ABqy+FX8iXwnY/xuy+FX9JycmZyZhKXP0j+khxn+f0R0+p8JwpWta6tr63vIUHTVeNLcpwU5bYvElzTfI5KR20v2XhvwnqF939ZUKUH/AOpyOIZjtcu+nzaM4t0749+tkMhlsiRySEyGZstks55GTJEMRmQIAAQhghDGMpFIgpFRKRojRGSZaN4s0RojWJimdjwtp1rStqurX0e0pUKio29uuXlNy47lCT7oJYb8fwfTs8+++8y8VKz6ND0e3srdanqazB87OzfKdzNfbl92muWX3/BS8u7vLzWLxNqVSrUkoU6dNebGP2YRj9mKX+Lfez4tb1mvqFedevPc3hQilinCC+rCMfsxXh/i2zr+Druzp2NWNO7o2Oo1ZuDuK8JylG2aXm0pR5Qbecvr+DXVF8Ffn8Z4d7aVy6VRbisTzfov247zmtc0mVhXdvOpRq1IJb+xm6kYS74N4XNd6PPTOrlwPXqNuhf6ddNyf7u8hvb9aklzPkueCtXpc5WVWSw3mlFVVj+Rs0U43VrzSflZrDbQr8a9jwUx5Lr21WjN06lOcJrrCcXGS9qfMz2S+4/gbJS4M6Ex5Or4OfY22q3rX7qzlb02k8qrWkoRafqxL4nJ7JfcfwOruP2bh6jHpO/vJ1X0zKjRhsx7N7yEk0liWrS+X/ymZbbOKjxaXy/Q5OUurIbBshsxlKy2xSYlzaE2elw1Y+V39pb43KpXpRmv7Dktz90dz9xjaclehlJpZs9vj59jT0yx6eS2NKdReFaq98/8pxUjoON7/wAq1O9qp5j204wa6bY+bH8Io55sw2je/t6v1bMI5RRLIZUmZs5ZMmRLJGyWYSM2DEAEkiAAEIBiGAxjRKKQ0MtFpmaZSZsmWjVM63hvWLN2lXTdRVSNCdVXFGtRSlUoXCjtctr5Si44TXq965GDWVnpnmdnSfC+yO/6W37Y79qs9u/HPGXnGTr2PGynpv8AA2/ozpNTnb63QXP6tzQq2+P5nlMP6A3cudtc2F2uaXk13Sm8+HPHMSfCnjrHwsvzLVXhf7+sfGy/M6Uk/sn7YRY5bsX+v2PhueEdYofWs7nGMt04SqxS9sco+SF1qNnLbGpc28lz2qVSjJevCwdRZ63olBJUbviCkl0VOtawS/7ZHrUeOdOjHa73W5xxjbWhp9ZP2702zXE6q8urX6inttpo4X4P9z57K+v7nS6V04yrX9K8VCxqypKtWqwlRl2kMST3pc3lp4efAy8u4r9Fn/d1L/TFqPEmjXU6dSrc625UUlS2+RUo01/YjHCi+S5rnyXgZ/TujemcQ/Ptv1DWGlcU+sU65Llv0WbdIhN/276xuuSNlfcVeiz/ALupf6Zpx5pOp3crGELavV7Kyo9pOFB7XXll1PNisR545YXQ+X6d0b0ziH59t+oX09ovpnEPz7b9RNLEmopVeka16MLkpKS2dVwiznXwjq3oFx8ip+Qnwhq/oFx8ip+R0b17RvTOIfn236iXr+iemcQ/Ptv1A64e/wBS/wCNtfy+jOcfB2regXPyKn5HvcIaHeadUudQu7erQjZ2lxVoyqwlTjO4lFwhBZ6tub/A0+n9E9N4h+fbfqMLrVdArR2VbjXqkU8qNSpaTSfjhvrzZm1Hh6PTfv4EOc5KnFrwZwVaeZSfizJs7XPCv/WPhY/mcbdOn2k+y3dnuezdjdtzyzjvObbJ5yb1ZeK9zXVGLIbG2S2ckmQ2SxDYmZNkCENiEIAABCAAAAGMQDGUWmZjTKTKTNUyjNMpM1jI0TNEUjNMpM1jIpM1THkzTGmaKRdmmSjLI8l4h2aEk5FkMQWWyWS2JslyFY2QwbJbMnIhsbIbBslsylIhsTZLYNiMmyGwEAEkiAAEIAAAAAAAABiABjGIBgUmWmZjTKTKTNEykzNDTNFItM1THkyyVktSHiLyVkyyPJWIdmmSck5DI8Q7KyJsnImyMROIbZLYmxMhyJsbZDYNiM2yWwABEkgIAEAAAAIAAAAAAAAAAAABiABjGIBgVkMkjGMrI8kDHY7LyPJnkMlYh2aZFkjIZDEFlZFkQZJsVhkMiATYgEACEAgAQAAAAgAAAAAAAAAAAAAAAAAAAAAAABgIAGMBDABgIBjGAgAAAAAQAIAAAABCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//Z
// @match             https://evades.io
// @run-at            document-start
// @grant             none
// @updateURL         https://raw.githubusercontent.com/Zirolio/E-Zond/main/e-zond/e-zond.meta.js
// @downloadURL       https://raw.githubusercontent.com/Zirolio/E-Zond/main/e-zond/e-zond.user.js
// ==/UserScript==

//                                                             .--------------------------------------------------------------------------------------------------------------------.
//                                                             | Ð¢Ð°Ðº-Ð¶Ðµ Ñ…Ð¾Ñ‚ÐµÐ»Ð¾ÑÑŒ Ð±Ñ‹ Ð¿Ð¾Ð±Ð»Ð°Ð³Ð¾Ð´Ð¾Ñ€Ð¸Ñ‚ÑŒ Ñ€Ð¾Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¾Ð² Ð·Ð° Ð¾Ñ‚Ð»Ð¸Ñ‡Ð½ÑƒÑŽ Ð¸Ð³Ñ€Ñƒ/Ð¿Ñ€Ð¾ÐµÐºÑ‚, Ð½Ð°Ð´ÐµÑŽÑÑŒ, ÑÐºÐ¾Ñ€Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð¼Ð½Ð¾Ð³Ð¾ Ð½Ð¾Ð²Ñ‹Ñ… Ð¿ÐµÑ€ÑÐ¾Ð² :) |
//                                                             | Ð˜ ÐµÑ‰Ñ‘, Ñ Ð¿ÐµÑ€ÐµÐ´Ð°ÑŽ Ð¿Ñ€Ð¸Ð²ÐµÑ‚ Ð²ÑÐµÐ¼ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ°Ð¼ Evades, Ð½Ñƒ Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ°Ð¼ :)                                    |
//                                                             | Ð Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ñ‡Ð¸Ñ‚Ð°ÑŽÑ‰Ð¸Ð¼ - Ð¶ÐµÑˆÐ°ÑŽ Ñ…Ð¾Ñ€Ð¾ÑˆÐµÐ¹ Ð¸Ð³Ñ€Ñ‹!!!                                                                          |
//                                                             |--------------------------------------------------------------------------------------------------------------------|
//                                                             | I would also like to thank the developers for a great game/project, I hope there will be many new Persians soon :) |
//                                                             | And also, I say hello to all Evades developers, and just developers :)                                             |
//                                                             | And just reading - I want a good game!!!                                                                           |
//                                                             ^--------------------------------------------------------------------------------------------------------------------^

var m=Object.defineProperty;var S=(a,e,s)=>e in a?m(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s;var i=(a,e,s)=>S(a,typeof e!="symbol"?e+"":e,s);const VERSION="11-beta",HTML_CSS_VERSION="",SCRIPT_KEYS={toClone:"KeyT",swapPlayer:"Tab",swapCameraToCenter:"Backquote",nexusRunK:"KeyN"},MESSAGES_STYLES={NORMAL:0,JR_MOD:1,MOD:2,SR_MOD:3,HEAD_MOD:4,DEV:5,YOUTUBER:6,STREAMER:7,SERVER_WARNING:8,SERVER_INFO:9,PRIVATE_MESSAGE:10,ZIROLIO:-1,SCRIPT_MESSAGE:-2,SCRIPT_WARNING_MESSAGE:-3,SCRIPT_MESSAGE_SENDER:-4,NICE_BOY:-5,IDIOT:-6},MAPStoABR={"Withering Wasteland":"WW2","Central Core":"CC","Central Core Hard":"CCH","Catastrophic Core":"CC3","Haunted Halls":"HH2","Peculiar Pyramid":"PP","Peculiar Pyramid Hard":"PPH","Wacky Wonderland":"WW","Glacial Gorge":"GG","Glacial Gorge Hard":"GGH","Vicious Valley":"VV","Vicious Valley Hard":"VVH","Humongous Hollow":"HH","Humongous Hollow Hard":"HHH","Elite Expanse":"EE","Elite Expanse Hard":"EEH","Endless Echo":"EE2","Endless Echo Hard":"EE2H","Dangerous District":"DD","Dangerous District Hard":"DDH","Quiet Quarry":"QQ","Quiet Quarry Hard":"QQH","Monumental Migration":"MM","Ominous Occult":"OO","Ominous Occult Hard":"OOH","Frozen Fjord":"FF","Frozen Fjord Hard":"FFH","Restless Ridge":"RR","Restless Ridge Hard":"RRH","Toxic Territory":"TT","Toxic Territory Hard":"TTH","Magnetic Monopole":"MM2","Magnetic Monopole Hard":"MM2H","Burning Bunker":"BB","Burning Bunker Hard":"BBH","Grand Garden":"GG2","Grand Garden Hard":"GG2H","Cyber Castle":"CC2","Infinite Inferno":"II"},SETTINGS_INFO={ballsVisibilityHuck:"Ð£Ð¿Ñ€Ð¾Ñ‰Ð°ÐµÑ‚ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ðµ ÑˆÐ°Ñ€Ð¾Ð²",pps:"Packets per second",areaShadow:"Specifies whether shadows will be shown in arenas"},REPO="https://raw.githubusercontent.com/Zirolio/E-Zond/main";class Settings{constructor(){i(this,"options",{});i(this,"settings");i(this,"shadow");client.ballsVisibilityHuck_DEFYC=client.ballsVisibilityHuck?["rgba(237, 230, 88, 0.4)","rgba(240, 132, 31, 0.4)"]:["#ede658","#f0841f"],this.registrOption(client.ballsVisibilityHuck,"ballsOpacity","ballsOpacity",1,"num"),this.registrOption(client.areaShadow,"minShadow","minAreaShadow",0,"num"),this.registrOption(client.areaShadow,"playerLighting","playerLighting",50,"num"),this.registrOption(client.camera.zoom,"new","zoom",1,"num"),this.registrOption(client.ballsVisibilityHuck,"on","ballsVisibilityHuck",!1),this.registrOption(client.crossianCursor,"on","crossianCursor",!1),this.registrOption(client.chat,"chatMessages","chatMessages",!0),this.registrOption(client.areaShadow,"areaShadow","areaShadow",!0),this.registrOption(client.miniMap,"showBalls","miniMapBalls",!1),this.registrOption(client.characters.chrono.aur,"on","aur",!1),this.registrOption(client.characters.reaper.shadow,"on","reaperShadow",!1),this.registrOption(client.characters.chrono.shadow,"on","chronoShadow",!1),this.registrOption(client.aim.snowballAIM,"on","snowballAIM",!1),this.registrOption(client.aim.echelonAIM,"on","echelonAIM",!1),this.registrOption(client.aim.ramesesAIM,"on","ramesesAIM",!1),this.registrOption(client.aim.necroAIM,"on","necroAIM",!1),this.registrOption(client.characters.necro.visualCooldowns,"on","necroVisualCooldowns",!1),this.registrOption(client.counters,"deathsC","deathsC",!1),this.registrOption(client.counters,"ppsC","ppsC",!1),this.registrOption(client.antiAfk,"on","antiAFK",!1),this.createSettings()}registrOption(e,s,t,n=!1,l="bool",r=!0){r&&(client.storage.has(t)||client.storage.set(t,n),e[s]=l=="bool"||l=="num"?client.storage.get(t,l):null),Object.defineProperty(this.options,t,{get(){return{value:e[s],type:l,id:t,default:n}},set(o){r&&client.storage.set(t,o),e[s]=o},enumerable:!0,configurable:!0})}createStyles(e){const s=document.createElement("style"),t=new XMLHttpRequest,n=()=>{s.innerHTML=t.responseText,e.appendChild(s)};t.onload=n,t.open("GET",`https://raw.githubusercontent.com/Zirolio/E-Zond/main/distHtml${HTML_CSS_VERSION}/main.css.user.js`,!0),t.send()}createSettings(){const e=document.body.appendChild(document.createElement("div")),s=document.createElement("div"),t=e.attachShadow({mode:"open"}),n=new XMLHttpRequest,l=()=>{s.innerHTML=n.responseText,t.appendChild(s);for(let r=1;r<=7;r++)t.getElementById(`c_abilitys${r}`).style.display="";for(const[r,o]of Object.entries(this.options)){const c=t.getElementById(r);c&&o.type=="bool"?c.checked=o.value:c&&o.type=="num"&&(c.value=(o.value*(r!=="playerLighting"?100:1)).toString()),t.getElementById(`c_${r}`).style.display="",r in SETTINGS_INFO&&(t.getElementById(`c_${r}`).title=SETTINGS_INFO[r])}t.getElementById("zond-sett").style.display="none",t.getElementById("zond-help-ru").style.display="none",t.getElementById("zond-help-en").style.display="none"};n.onload=l,n.open("GET",`https://raw.githubusercontent.com/Zirolio/E-Zond/main/distHtml${HTML_CSS_VERSION}/settingsAndHelp.html.user.js`,!0),n.send(),this.createStyles(t),this.settings=e,this.shadow=t}onUpdateParam(e,s){this.updateParam(new UpdateParamEvent(e,isNaN(s.valueAsNumber)?s.checked:s.valueAsNumber))}updateParam(e){typeof e.option=="string"&&client.settings.options[e.option]?client.settings.options[e.option]=isNaN(e.valueAsNumber)?e.checked:e.valueAsNumber/(e.option!=="playerLighting"?100:1):typeof e.option=="object"?(e.option.type=="au"&&(client.autoUse[e.option.abilityNumber]=e.checked),e.option.type=="auNA"&&(client.autoUse[`${e.option.abilityNumber}OnNA`]=e.checked)):e.option=="ballsVisibilityHuck"&&(e.checked?client.baseData.defaults.glowy_enemy.color="rgba(237, 230, 88, 0.4)":client.baseData.defaults.glowy_enemy.color="#ede658",e.checked?client.baseData.defaults.firefly_enemy.color="rgba(240, 132, 31, 0.4)":client.baseData.defaults.firefly_enemy.color="#f0841f")}show$hideSettings(){const e=this.shadow.getElementById("zond-sett");e.style.display=e.style.display?"":"none"}show$hideHelp(e="en"){["ru","en"].includes(e)||(e="en"),this.shadow.getElementById("zond-help-"+{en:"ru",ru:"en"}[e]).style.display="none";const s=this.shadow.getElementById("zond-help-"+e);s.style.display=s.style.display?"":"none"}}class UpdateParamEvent{constructor(e,s){i(this,"option");i(this,"value");this.option=e,this.value=s}get valueAsNumber(){return parseFloat(this.value)}get checked(){return!!this.value}}class Chat{constructor(){i(this,"playersLightsStorage",{});i(this,"chatMessages",!0);i(this,"add")}chatCommands(e){var t;if(e.message&&document.getElementById("chat-window").scroll(0,document.getElementById("chat-window").scrollHeight),!e.message||!e.message.startsWith("=")||e.message.match(/^=$/g))return;const s=this.getMessageParams(e.message);if(s[0]=="help")client.settings.show$hideHelp(s[1]);else if(s[0]=="addFr")client.friends.add(s.slice(1).join(" "));else if(s[0]=="removeFr")client.friends.rm(s.slice(1).join(" "));else if(s[0]=="clear")document.getElementById("chat-window").innerHTML="";else if(s[0]=="reset")client.user.chatMessages.push("/reset random"),setTimeout(()=>client.user.chatMessages.push("/warp random"),300);else if(s[0]=="setPlLight"&&s[1]&&((t=client.settings.shadow.getElementById("playerLighting"))==null?void 0:t.style.display)!=="none"){const n=isNaN(parseInt(s[2]))?50:Math.min(Math.max(parseInt(s[2]),0),800);if(s[1]!==client.player.name){const l=client.utils.getPlayerEntityByName(s[1]);l?(this.playersLightsStorage[l.name]=l.lightRadius=n,client.chat.addMessages([new ChatMessage(`Light by player ${l.name} setted to 0`)])):client.chat.addMessages([new ChatMessage(`Cannot find player ${l.name} in game`)])}else{const l=client.settings.shadow.getElementById("playerLighting");l.value=n.toString(),client.settings.updateParam(new UpdateParamEvent("playerLighting",n))}}e.message=""}getMessageParams(e){let s=[],t="";for(const n of e.slice(1).split(/\s+/g))n.startsWith('"')&&n.endsWith('"')&&!t?s.push(n.slice(1,-1)):n.startsWith('"')&&!t?t=n+" ":n.endsWith('"')?(s.push((t+n).slice(1,-1)),t=""):t?t+=n+" ":s.push(n);return s}onPostMessageProcess(){Object.keys(this.playersLightsStorage).forEach(e=>{const s=client.utils.getPlayerEntityByName(e,!1);s&&(s.lightRadius=this.playersLightsStorage[e])})}addMessages(e=[],s=!1){!client.chat.chatMessages&&!s||client.chat.add(client.user.globalEntities,{messages:e})}initChatScale(){const e=document.getElementById("chat-window"),s=3;e.style.position="relative",e.style.padding="0px 0px 8px 0px",e.style.height="calc(100% - 33px)";const t=e.appendChild(document.createElement("div")),n=document.head.appendChild(document.createElement("style"));n.setAttribute("id","chatCostumStyles"),t.style="position: fixed; right: 4px; bottom: 4px; color: black; width: 20px; cursor: pointer; width: 20px; height: 20px;",t.style.backgroundImage="url(https://github.com/Zirolio/EvadesRes/blob/main/arrow.png?raw=true)",t.style.transform="scale(0.7) translate(0px, -170%)",t.id="chatScaleBtn",t.onclick=()=>{n.innerHTML=n.innerHTML?"":`#chat-window { width: ${300*s}px; height: ${165*s}px; } #chat { width: ${300*s}px; height: ${200*s}px; }`,t.style.transform=n.innerHTML?"scale(0.7) translate(0px, -170%) rotate(180deg)":"scale(0.7) translate(0px, -170%)",e.scroll(0,e.scrollHeight)}}}const w=class w{constructor(e="",s=[MESSAGES_STYLES.SCRIPT_MESSAGE,MESSAGES_STYLES.SCRIPT_MESSAGE_SENDER],t=""){i(this,"id",w.lastMessageID--);i(this,"sender");i(this,"text");i(this,"style");this.text=e||"",this.sender=t,this.style=s}};i(w,"lastMessageID",0);let ChatMessage=w;class CrossianCursor{constructor(){i(this,"on",!1);i(this,"size",24)}}class Zoom{constructor(){i(this,"zoomStep",.02);i(this,"moment",0);i(this,"_new",0);i(this,"original")}set new(e){this._new=e,this.reZoom()}get new(){return this._new}reZoom(){const e=client.workWGE;if(!client.evadesObjects.camera||!client.lastAreaMessage||(this.original||(this.original=Object.assign({},client.evadesObjects.camera.viewportSize)),client.camera.oldCanvasSet||this.moment==this._new||!e))return;if(this._new>1){this.moment=this.new=1;return}else if(this._new<.35){this.moment=this.new=.35;return}client.storage.set("zoom",this._new);const s=this.original.width/this._new,t=this.original.height/this._new;client.evadesObjects.camera.viewportSize.width=e.canvas.width=e.canvasLighting.width=s,client.evadesObjects.camera.viewportSize.height=e.canvas.height=e.canvasLighting.height=t,this.moment=this._new,this.resizeEnd()}resizeEnd(){client.workWGE&&(client.user.area=new client.user.area.constructor,client.user.area.unionState(client.lastAreaMessage.area),client.workWGE.initResizeCanvas())}}class Camera{constructor(){i(this,"spectId");i(this,"zoom",new Zoom);i(this,"oldCanvasSet");i(this,"clone",{id:NaN,spect:!1,updateKeysOnClone:()=>{}})}getSpect(){try{client.player.id!==client.user.self.id&&(this.spectId==client.player.id&&(this.spectId=client.user.self.id),client.player.id=client.user.self.id)}catch{}if(client.miniMap.showOnly&&(client.user.minimap.hidden=!1),this.oldCanvasSet){const t=client.user.area;return{x:t.x+t.width/2,y:t.y+t.height/2}}if(this.clone.spect){const t=client.user.entities[this.clone.id];if(t)return t;this.clone.spect=!1,this.clone.id=NaN}const e=client.user.self.entity,s=client.user.globalEntities[this.spectId];return s?s.regionName!==e.regionName||s.areaNumber!==e.areaNumber?(client.chat.addMessages([new ChatMessage("Watching stopped")]),this.spectId=client.user.self.id,client.user.self.entity):s:(this.spectId&&this.spectId!==client.player.id&&client.chat.addMessages([new ChatMessage("Watching stopped")]),this.spectId=client.user.self.id,client.user.self.entity)}swapCameraToCenter(){if(this.oldCanvasSet)client.workWGE.canvas.width=this.oldCanvasSet.w,client.workWGE.canvasLighting.width=this.oldCanvasSet.w,client.workWGE.canvas.height=this.oldCanvasSet.h,client.workWGE.canvasLighting.height=this.oldCanvasSet.h,client.evadesObjects.camera.viewportSize=this.oldCanvasSet.vs,this.oldCanvasSet=void 0;else{const e=Math.max(client.user.area.width/client.workWGE.camera.viewportSize.width,client.user.area.height/client.workWGE.camera.viewportSize.height,1),s=client.workWGE.canvas.width,t=client.workWGE.canvas.height,n=s*e,l=t*e;this.oldCanvasSet={w:s,h:t,vs:client.evadesObjects.camera.viewportSize},client.workWGE.canvas.width=n,client.workWGE.canvasLighting.width=n,client.workWGE.canvas.height=l,client.workWGE.canvasLighting.height=l,client.evadesObjects.camera.viewportSize=client.workWGE.canvas}this.zoom.resizeEnd()}swapCameraToClone(){if(client.camera.clone.spect=!client.camera.clone.spect,client.camera.clone.id)return;const e=Object.entries(client.user.entities).filter(s=>s[1].name===client.user.name&&!s[1].abilityOne&&s[0]!==client.user.self.id)[0];if(!e[0]){client.camera.clone.spect=!1;return}client.camera.clone.id=parseInt(e[0])}swapCamera(){const e=this.getUsersOnArea(),s=client.user.globalEntities[client.camera.spectId];if(client.user.self.entity,e.includes(s)){let t=e.indexOf(s)+1==e.length?0:e.indexOf(s)+1;client.camera.spectId=e[t].id,e.length>1&&(e[t].name!==client.user.name?client.chat.addMessages([new ChatMessage(`You are watching ${e[t].name}`)]):client.chat.addMessages([new ChatMessage("Watching stopped")]))}else return client.camera.spectId!==client.player.id&&client.chat.addMessages([new ChatMessage("Watching stopped")]),client.camera.spectId=client.user.self.id,client.user.self.entity}getUsersOnArea(){return Object.values(client.user.globalEntities).filter(e=>e.regionName==client.user.self.entity.regionName&&e.areaNumber==client.user.self.entity.areaNumber).sort((e,s)=>e.id-s.id)}}class Storage{constructor(){this.default()}get(e,s="bool"){let t=localStorage.getItem(e);return s==="bool"?t==="true":s==="num"?Number(t):s==="JSON"?JSON.parse(t||"{}"):t}set(e,s){return localStorage.setItem(e,String(s)),s}has(e){return localStorage.getItem(e)!==null}default(){localStorage.getItem("friends")===null&&this.set("friends",JSON.stringify([])),localStorage.getItem("ballsOpacity")===null&&this.set("ballsOpacity",1),localStorage.getItem("minShadow")===null&&this.set("minShadow",0),localStorage.getItem("Zoom")===null&&this.set("Zoom",1),localStorage.getItem("aur")===null&&this.set("aur",!1),localStorage.getItem("reaperShadow")===null&&this.set("reaperShadow",!1),localStorage.getItem("crossCursor")===null&&this.set("crossCursor",!1),localStorage.getItem("ballsVisibilityHuck")===null&&this.set("ballsVisibilityHuck",!1),localStorage.getItem("chatMessages")===null&&this.set("chatMessages",!0),localStorage.getItem("deathsC")===null&&this.set("deathsC",!1),localStorage.getItem("pps")===null&&this.set("pps",!1),localStorage.getItem("antiAFK")===null&&this.set("antiAFK",!1),localStorage.getItem("ChronoShadow")===null&&this.set("ChronoShadow",!1),localStorage.getItem("AreaShadow")===null&&this.set("AreaShadow",!0),localStorage.getItem("ballsOnMiniMap")===null&&this.set("ballsOnMiniMap",!1),localStorage.getItem("necroCooldowns")===null&&this.set("necroCooldowns",!1),localStorage.getItem("snowballAIM")===null&&this.set("snowballAIM",!1),localStorage.getItem("echelonAIM")===null&&this.set("echelonAIM",!1),localStorage.getItem("necroAIM")===null&&this.set("necroAIM",!1),localStorage.getItem("ramesesAIM")===null&&this.set("ramesesAIM",!1),localStorage.getItem("e-zond-version")===null&&this.set("e-zond-version","")}}class KeysArr{constructor(){i(this,"_");this._=[]}push(e){this._.includes(e)||this._.push(e)}clear(){this._=[]}get(){return this._}}class InputsEditor{constructor(){i(this,"pressKeys",new KeysArr);i(this,"unpressKeys",new KeysArr);i(this,"delAfter",[])}editKeys(e){let s=e.map(t=>t.keyType);return this.unpressKeys.get().forEach(t=>{s.includes(t)||e.push({keyEvent:2,keyType:t})}),this.unpressKeys.clear(),s=e.map(t=>t.keyType),this.pressKeys._.forEach(t=>{s.includes(t)||(e.push({keyEvent:1,keyType:t}),this.unpressKeys.push(t))}),this.pressKeys.clear(),s=e.map(t=>t.keyType),this.delAfter=this.delAfter.filter(t=>t.t>0),this.delAfter.forEach(t=>{!s.includes(t.t)&&t.n?(e.push({keyEvent:1,keyType:t.k}),t.n=!1):(t.t--,t.t<=0&&this.unpressKeys.push(t.k))}),e}editInputs2(e){client.aim.necroShot(e),client.aim.snowballShot(e),client.aim.ramesesShot(e),client.aim.echelonShot(e),client.aim.minimalTasHelpBot(e),client.chat.chatCommands(e),e.message.match(/^\/reset\b/g)&&(client.counters.deaths=0);try{client.user.heroInfoCard.heroType==12&&(client.user.self.entity.effects.effects[`${client.user.self.id}-JA`]={effectType:18,id:`${client.user.self.id}-JA`,noState:!1,radius:{0:0,1:100,2:125,3:150,4:175,5:200}[client.user.heroInfoCard.abilityTwo.level]})}catch{}return e}editInputData(e){return client.flood&&client.user.chatMessages.push("/reset"),client.characters.chrono.aur.on&&client.characters.chrono.autoUseRes(),client.follow.followPlayer.player?client.follow.editPositionOnFollow(e):client.follow.followPellet.on?client.follow.editPositionOnFollowPellet(e):client.characters.nexus.nexusRun?client.characters.nexus.editPositionOnNexusRun(e):e}}class AutoUse{constructor(){i(this,"one",!1);i(this,"two",!1);i(this,"three",!1);i(this,"oneOnNA",!1);i(this,"twoOnNA",!1);i(this,"threeOnNA",!1);i(this,"ignoreEnergy",!1)}useAbilities(e){this.one&&this.chekCanUse(client.user.heroInfoCard.abilityOne)&&client.inputsEditor.pressKeys.push(10),this.two&&this.chekCanUse(client.user.heroInfoCard.abilityTwo)&&client.inputsEditor.pressKeys.push(11),this.three&&this.chekCanUse(client.user.heroInfoCard.abilityThree)&&client.inputsEditor.pressKeys.push(12)}onNewArea(){this.oneOnNA&&client.inputsEditor.pressKeys.push(10),this.twoOnNA&&client.inputsEditor.pressKeys.push(11),this.threeOnNA&&client.inputsEditor.pressKeys.push(12)}chekCanUse(e,s=!1){return e.level&&e.cooldown<=0&&(![8,56].includes(e.abilityType)||s)&&!e.disabled&&(client.user.heroInfoCard.energy>=e.energyCost||client.autoUse.ignoreEnergy)}}class MiniMap{constructor(){i(this,"showOnly",!0);i(this,"showBalls",!1)}}class AIM{constructor(){i(this,"necroAIM",{on:!1,shoted:!1});i(this,"snowballAIM",{on:!1});i(this,"echelonAIM",{on:!1});i(this,"ramesesAIM",{on:!1});i(this,"TASBot",{on:!1})}aim(e=!0,s=1309,t=!1){const n=client.user.self.entity,l=Object.values(client.user.globalEntities).filter(c=>c.areaName==client.user.self.entity.areaName&&c.regionName==client.user.self.entity.regionName&&c.id!==client.user.self.id&&[c.deathTimer==-1,c.deathTimer!==-1,!0][Number(e)]).sort((c,d)=>Math.sqrt((c.x-n.x)**2+(c.y-n.y)**2)-Math.sqrt((d.x-n.x)**2+(d.y-n.y)**2))[0];if(!l)return;const r={x:Math.floor(l.x-n.x),y:Math.floor(l.y-n.y),updated:!0},o=Math.sqrt(r.x**2+r.y**2);if(!(Math.floor(o)>s&&!t))return r}sheildAIM(e,s=10){const t=client.user.self.entity,n=Object.values(client.user.entities).filter(o=>o.isEnemy&&o.entityType!==1).sort((o,c)=>Math.sqrt((o.x-t.x)**2+(o.y-t.y)**2)-Math.sqrt((c.x-t.x)**2+(c.y-t.y)**2))[0];if(!n)return;const l={x:Math.floor(n.x-t.x),y:Math.floor(n.y-t.y),updated:!0},r=Math.sqrt((n.x-t.x)**2+(n.y-t.y)**2);if(!(Math.floor(r)-t.radius-n.radius>s))return l}sheild(e){try{if(!client.factorbSheildAIM.on)return;const s=this.sheildAIM(e.mouseDown,20);if(!s)return;e.mouseDown=s}catch{}}necroShot(e){try{if(!this.necroAIM.on||client.user.self.entity.heroType!==4||!client.autoUse.chekCanUse(client.user.heroInfoCard.abilityTwo,!0)||!e.keys.filter(t=>t.keyEvent==1&&t.keyType==11)[0])return;const s=this.aim();if(!s)return;e.mouseDown=s}catch{}}echelonShot(e){try{if(!this.echelonAIM.on||client.user.self.entity.heroType!==26||!client.autoUse.chekCanUse(client.user.heroInfoCard.abilityOne,!0)||!e.keys.filter(t=>t.keyEvent==1&&t.keyType==10)[0])return;const s=this.aim(!0,1296);if(!s)return;e.mouseDown=s}catch{}}snowballShot(e){try{if(!this.snowballAIM.on||client.user.heroInfoCard.abilityThree.abilityType!==31||!client.autoUse.chekCanUse(client.user.heroInfoCard.abilityThree,!0)||!e.keys.filter(t=>t.keyEvent==1&&t.keyType==12)[0])return;const s=this.aim(!1,0,!0);if(!s)return;e.mouseDown=s}catch{}}ramesesShot(e){try{if(!this.ramesesAIM.on||!client.user.self.entity.isBandaged||client.user.self.entity.heroType!==11||!client.autoUse.chekCanUse(client.user.heroInfoCard.abilityTwo,!0)||!e.keys.filter(t=>t.keyEvent==1&&t.keyType==11)[0])return;const s=this.aim(!1,1155,!1);if(!s)return;e.mouseDown=s}catch{}}minimalTasHelpBot(e){try{if(!this.TASBot.on)return;const s=client.user.self.entity,t=Object.values(client.user.entities).filter(l=>l.isEnemy&&l.entityType!==1).sort((l,r)=>Math.sqrt((l.x-s.x)**2+(l.y-s.y)**2)-Math.sqrt((r.x-s.x)**2+(r.y-s.y)**2))[0];if(!t)return;const n=this.avoidCollision(s,t,{...e.mouseDown});if(!n)return;e.mouseDown=n}catch{}}avoidCollision(e,s,t,n=15){const l=s.x-e.x,r=s.y-e.y,o=Math.sqrt(l*l+r*r),c=s.radius+e.radius+n;if(o<c){const d=l/o,u=-(r/o),f=d,p=Math.sqrt(t.x*t.x+t.y*t.y);t.x=u*p,t.y=f*p;const y=Math.sqrt(t.x*t.x+t.y*t.y);y<p*.5&&(t.x*=p/y,t.y*=p/y),t.x=Math.round(t.x*1e3),t.y=Math.round(t.y*1e3)}return t}}class Follow{constructor(){i(this,"followPlayer",{player:NaN,playerName:""});i(this,"followPellet",{on:!1,pellet:NaN})}editPositionOnFollow(e){if(e)return e;const s=client.user.self.entity,t=client.user.globalEntities[this.followPlayer.player];if(!t)return this.followPlayer.player=NaN,client.chat.addMessages([new ChatMessage("Player not found")]),{updated:!1};let n=t.x-s.x,l=t.y-s.y;const r=Math.sqrt(n**2+l**2),o=d=>r>50?d/r*200:d*2;t.regionName!==s.regionName&&(!s.regionName.endsWith("Hard")&&(t.regionName.endsWith("Hard")||["Mysterious Mansion"].includes(t.regionName))&&!["Endless Echo Hard"].includes(t.regionName)&&(n=-n),(t.regionName=="Catastrophic Core"&&s.regionName=="Central Core Hard"||t.regionName=="Central Core Hard"&&s.regionName=="Catastrophic Core")&&(n=-n),(t.regionName=="Central Core"&&s.regionName=="Withering Wasteland"||s.regionName=="Central Core"&&t.regionName=="Withering Wasteland")&&(l=-l));const c={x:Math.floor(o(n)),y:Math.floor(o(l)),updated:!0};return c.x||c.y?c:{updated:!1}}onClickFollow(e){const s=client.utils.getPlayerDataFromCM();if(this.followPlayer.player==s.id){this.followPlayer.player=NaN,this.followPlayer.playerName="",client.user.mouseDown=null,client.chat.addMessages([new ChatMessage("You are unfollowing")]);return}else this.followPlayer.player=s.id,this.followPlayer.playerName=s.name,client.chat.addMessages([new ChatMessage(`You are following ${this.followPlayer.playerName}`)]);const t=client.user.self.entity,n=client.user.globalEntities[s.id];if(!n){this.followPlayer.player=NaN,client.chat.addMessages([new ChatMessage("You are unfollowing")]);return}t.regionName!==n.regionName&&Object.keys(MAPStoABR).includes(n.regionName)&&client.user.chatMessages.push(`/warp ${MAPStoABR[n.regionName]}`)}editPositionOnFollowPellet(e){if(e)return e;const s=client.user.self.entity;let t=client.user.entities[this.followPellet.pellet];if(!t){const d=Object.entries(client.user.entities).filter(h=>h[1].entityType==1).sort((h,u)=>Math.sqrt((h[1].x-s.x)**2+(h[1].y-s.y)**2)-Math.sqrt((u[1].x-s.x)**2+(u[1].y-s.y)**2))[0];this.followPellet.pellet=parseInt(d[0]),t=d[1]}let n=t.x-s.x,l=t.y-s.y;const r=Math.sqrt(n**2+l**2),o=d=>r>50?d/r*200:d*2,c={x:Math.floor(o(n)),y:Math.floor(o(l)),updated:!0};return c.x||c.y?c:{updated:!1}}getLabelFollow(e){try{return client.user.name===e.props.name?"":e.props.name===this.followPlayer.playerName?"Un Follow":"Follow"}catch{return""}}}class Nexus{constructor(){i(this,"player",NaN);i(this,"playerName","");i(this,"ignisKD",NaN);i(this,"nexusRun",!1)}getLabelSetIgnis(e){try{const s=client.utils.getPlayerDataFromCM(e.props.name);return client.user.name===e.props.name||client.user.heroInfoCard.heroType!==5||s.heroType!==21?"":s.name===this.playerName?"Unset Ignis":"Set Ignis"}catch{return""}}editKeysOnSetIgnis(e){this.ignisKD!==null&&this.ignisKD-2<=.5&&client.inputsEditor.pressKeys.push(10)}editPositionOnNexusRun(e){return e||{x:8,y:0,updated:!0}}onClickSetIgnis(e){const s=client.utils.getPlayerDataFromCM();this.player==s.id?(this.player=NaN,this.playerName="",client.chat.addMessages([new ChatMessage("You unset Ignis")])):(this.player=s.id,this.playerName=s.name,client.chat.addMessages([new ChatMessage(`You set ${this.playerName} as Ignis`)])),e.props.hide()}}class AreaShadow{constructor(){i(this,"defaultShadow",0);i(this,"_areaShadow",!0);i(this,"_minShadow",0);i(this,"_playerLighting",50)}get areaShadow(){return this._areaShadow}set areaShadow(e){client.user&&(client.user.area.lighting=e?Math.min(1-client.areaShadow.minShadow,this.defaultShadow):1),this._areaShadow=e}get minShadow(){return this._minShadow}set minShadow(e){client.user&&this._areaShadow&&(client.user.area.lighting=1-e),this._minShadow=e}get playerLighting(){return this._playerLighting}set playerLighting(e){client.user&&client.user.self.entity&&(client.user.self.entity.lightRadius=e),this._playerLighting=e}}class Chrono{constructor(){i(this,"__lastShadowID",0);i(this,"aur",{on:!1,mis:2,useOn:void 0});i(this,"shadow",{on:!1,maxFrames:182,chronoShadows:[]})}autoUseRes(e=client.user.self.entity.deathTimer){this.shadow.maxFrames=182*((Math.floor(client.counters.pps)||60)/60),client.user.heroInfoCard.heroType!==9||e/1e3<=56.5?this.aur.useOn=void 0:(this.aur.useOn||(this.aur.useOn=this.shadow.chronoShadows.slice(-1)[0]),!this.shadow.chronoShadows.filter(s=>s.id==this.aur.useOn.id-this.aur.mis)[0]&&client.autoUse.chekCanUse(client.user.heroInfoCard.abilityOne,!0)&&(client.inputsEditor.pressKeys.push(10),this.aur.useOn=void 0))}updateChronoShadow(e){const s=client.user.self.entity;if(!(!s||s.heroType!==9)){if(e.area){this.__lastShadowID=0,this.shadow.chronoShadows=[];return}if(this.shadow.chronoShadows.push({x:s.x,y:s.y,id:this.__lastShadowID++}),this.shadow.chronoShadows.length>this.shadow.maxFrames&&this.shadow.chronoShadows.shift(),this.shadow.on&&!client.user.heroInfoCard.abilityOne.cooldown&&client.user.heroInfoCard.abilityOne.level&&s.energy>=30){const t=this.shadow.chronoShadows[0];e.entities.push({x:t.x,y:t.y,id:-client.user.self.id,brightness:.24,radius:s.radius,entityType:10})}else e.entities.push({id:-client.user.self.id,removed:!0})}}}class Necro{constructor(){i(this,"visualCooldowns",{on:!1,storage:{}})}updateNecroVisualCooldown(e){this.visualCooldowns.storage=Object.fromEntries(Object.entries(this.visualCooldowns.storage).filter(t=>t[0]in client.user.entities));const s=e.entities.filter(t=>{var n;return((n=client.user.globalEntities[t.id])==null?void 0:n.heroType)==4&&t.abilityOne&&"cooldown"in t.abilityOne});for(const t of s)this.visualCooldowns.storage[t.id]=t.abilityOne.cooldown}drawNecroVisualCooldown(e,s,t){if(!client.characters.necro.visualCooldowns.on||e.heroType!==4)return;const n=(Object.entries(client.user.globalEntities).filter(o=>o[1].name==e.name)[0]||[])[0],l=.07500000298023224,r=client.camera.getSpect();n&&r&&client.characters.necro.visualCooldowns.storage[n]&&client.characters.necro.visualCooldowns.storage[n]!==0&&(t.beginPath(),t.fillStyle="rgb(253, 240, 193, 0.55)",t.arc(e.x-r.x+s.x,e.y-r.y+s.y,e.radius,-Math.PI/2,Math.PI*2*(1-client.characters.necro.visualCooldowns.storage[n]/l||1)-Math.PI/2,!0),t.lineTo(e.x-r.x+s.x,e.y-r.y+s.y),t.closePath(),t.fill())}}class Reaper{constructor(){i(this,"shadow",{on:!1})}}class BallsVisibilityHuck{constructor(){i(this,"ballsStroke","rgb(0, 0, 0)");i(this,"ballsOpacity",.85);i(this,"aurasOpacity",.1);i(this,"flashinBalls",!1);i(this,"on",!1);i(this,"greenBalls",{greenBallsTO:20,maxGreenBalls:12,_greenBallsTOC:20,ballsFrames:{}});i(this,"phantomBalls",{phantomBallsIDS:[]});i(this,"yellowBallsEEH",{yellowBallsCords:{}});i(this,"__",[])}greenBallsEditor(e){}phantomBallsEditor(e){e.area&&(this.phantomBalls.phantomBallsIDS=e.entities.filter(t=>[60,61,62,63].includes(t.entityType)).map(t=>t.id)),e.entities.filter(t=>this.phantomBalls.phantomBallsIDS.includes(t.id)).forEach(t=>{const n=client.user.entities[t.id];n&&(t.removed=!1,e.entities.push({x:t.x,y:t.y,id:-t.id,brightness:1,radius:n.radius,entityType:n.entityType,removed:!1}))})}yellowBallsEEHEditor(e){if(e.area)return;Object.entries(client.user.entities).filter(t=>t[1].entityType==55&&parseInt(t[0])>=0).forEach(t=>{this.yellowBallsEEH.yellowBallsCords[t[0]]==null&&(this.yellowBallsEEH.yellowBallsCords[t[0]]=[{x:NaN,y:NaN},0]),this.yellowBallsEEH.yellowBallsCords[t[0]][0].x?(this.yellowBallsEEH.yellowBallsCords[t[0]][0].x!==t[1].x||this.yellowBallsEEH.yellowBallsCords[t[0]][0].y!==t[1].y)&&(this.yellowBallsEEH.yellowBallsCords[t[0]][0]={x:t[1].x,y:t[1].y},e.entities.push({x:this.yellowBallsEEH.yellowBallsCords[t[0]][0].x,y:this.yellowBallsEEH.yellowBallsCords[t[0]][0].y,id:`${-t[0]}-${this.yellowBallsEEH.yellowBallsCords[t[0]][1]}`,brightness:.4,radius:t[1].radius,entityType:55,removed:t[1].isDestroyed}),this.yellowBallsEEH.yellowBallsCords[t[0]][1]=this.yellowBallsEEH.yellowBallsCords[t[0]][1]==1?0:1):(this.yellowBallsEEH.yellowBallsCords[t[0]][0]={x:t[1].x,y:t[1].y},e.entities.push({x:this.yellowBallsEEH.yellowBallsCords[t[0]][0].x,y:this.yellowBallsEEH.yellowBallsCords[t[0]][0].y,id:`${-t[0]}-${this.yellowBallsEEH.yellowBallsCords[t[0]][1]}`,brightness:.4,radius:t[1].radius,entityType:55,removed:t[1].isDestroyed}),this.yellowBallsEEH.yellowBallsCords[t[0]][1]=this.yellowBallsEEH.yellowBallsCords[t[0]][1]==1?0:1)})}onNewArea(){this.greenBalls.ballsFrames={},this.phantomBalls.phantomBallsIDS=[],this.yellowBallsEEH.yellowBallsCords={}}}class AntiAFK{constructor(){i(this,"on",!1);i(this,"delay",60*1e3)}sendMessage(){this.on&&client.ws&&client.encode&&client.ws.send(client.encode({sequence:++client.user.sequence}).finish())}init(){setInterval(()=>client.antiAfk.sendMessage(),60*1e3)}}class Counters{constructor(){i(this,"deathsC",!0);i(this,"ppsC",!0);i(this,"deaths",0);i(this,"pps",0);i(this,"lastPPSUpdate",0);i(this,"packets",0)}draw(e){if(document.getElementById("chatCostumStyles").innerHTML)return;const s=[],t=20,n=240,l=20;this.deathsC&&s.push([`Deaths: ${this.deaths}`,()=>"#ffffff"]),this.ppsC&&s.push([`PPS: ${this.pps}`,()=>this.pps<10?"#f00000":this.pps<20?"#db7b2f":this.pps<30?"#dbb62f":"#00f000"]),e.context.lineWidth=3,e.context.font="bold 15px Tahoma, Verdana, Segoe, sans-serif",e.context.textAlign="left",e.context.strokeStyle="#000000",e.context.fillStyle="#ffffff";for(let r=0;r<s.length;r++){const o=s[r];e.context.fillStyle=o[1](),e.context.strokeText(o[0],t,n+r*l),e.context.fillText(o[0],t,n+r*l)}e.context.lineWidth=1}}class Ignis{constructor(){i(this,"timeToUse",.5);i(this,"player");i(this,"playerName");i(this,"nexusKD")}getLabelSetNexus(e){try{const s=client.utils.getPlayerDataFromCM(e.props.name);return client.user.name===e.props.name||client.user.heroInfoCard.heroType!==5||s.heroType!==5?"":s.name===this.playerName?"Unset Nexus":"Set Nexus"}catch{return""}}editKeysOnSetNexus(){this.nexusKD&&client.inputsEditor.pressKeys.push(10),this.nexusKD=!1}onClickSetNexus(e){const s=client.utils.getPlayerDataFromCM();this.player==s.id?(this.player=NaN,this.playerName="",client.chat.addMessages([new ChatMessage("You unset Nexus")])):(this.player=s.id,this.playerName=s.name,client.chat.addMessages([new ChatMessage(`You set ${this.playerName} as Nexus`)])),e.props.hide()}}class Listeners{get onUpdateParam(){return client.settings.onUpdateParam.bind(client.settings)}get onFirstLoadScriptVersionStart(){return client.firstLoad.onStart.bind(client.firstLoad)}get onFirstLoadScriptVersionGameStart(){return client.firstLoad.onGameStart.bind(client.firstLoad)}onNewDataFromServer(e){!client.characters.nexus.player&&!client.characters.ignis.player||Object.values(e.entities).forEach(s=>{if(client.characters.ignis.player===s.id&&s.abilityOne&&s.abilityOne.cooldown){const t=s.abilityOne.cooldown-(7+client.characters.ignis.timeToUse);-.3>=t&&t>=0?client.characters.ignis.nexusKD=!0:client.characters.ignis.nexusKD=!1}})}onDrawPlayer(e){const s={x:client.canvas.width/2,y:client.canvas.height/2},t=client.c;client.characters.necro.drawNecroVisualCooldown(e,s,t)}onWebSocketMess(e){Date.now()-client.counters.lastPPSUpdate>=1e3&&(client.counters.lastPPSUpdate=Date.now(),client.counters.pps=client.counters.packets,client.counters.packets=0),client.counters.packets++}onPostDrawEntities(){const e={x:client.canvas.width/2,y:client.canvas.height/2},s=client.c;if(client.characters.reaper.shadow.on&&client.user.heroInfoCard.heroType==10&&client.user.self.entity.isDeparted&&client.user.heroInfoCard.abilityTwo.level&&client.user.heroInfoCard.abilityTwo.cooldown){const t=client.user.heroInfoCard.abilityTwo.totalCooldown*1e3,n=client.user.heroInfoCard.abilityTwo.cooldown*1e3,l=client.user.heroInfoCard.abilityTwo.level,r=[2700,2900,3100,3300,3500][l-1];t-r<=n&&(s.beginPath(),s.fillStyle="rgb(253, 240, 193, 0.55)",s.arc(e.x,e.y,client.user.self.entity.radius,-Math.PI/2,-2*Math.PI*(n-(t-r))/r-Math.PI/2,!0),s.lineTo(e.x,e.y),s.closePath(),s.fill())}}onPostDraw(e){client.counters.draw(e)}onInit(){}onPreMessageProcess(e){var t,n,l;if(e.entities||(e.entities=[]),e.globalEntities||(e.globalEntities=[]),e.chat&&((t=e.chat).messages||(t.messages=[])),client.friends.hide(),client.characters.necro.updateNecroVisualCooldown(e),e.chat)for(const r of e.chat.messages)r.sender=="â˜ªð“©ð“²ð“»ð“¸ð“µð“²ð“¸âœ©"&&r.style.push(MESSAGES_STYLES.ZIROLIO),((n=client.config).idiots||(n.idiots=[])).includes(r.sender)&&r.style.push(MESSAGES_STYLES.IDIOT),((l=client.config).niceBoys||(l.niceBoys=[])).includes(r.sender)&&r.style.push(MESSAGES_STYLES.NICE_BOY);if(e.area&&(client.autoUse.onNewArea(),client.ballsVisibilityHuck.onNewArea(),client.evadesObjects.lastAreaMessage=e,client.areaShadow.defaultShadow=1-e.area.lighting,client.follow.followPellet.on=!1,client.camera.clone.id=NaN,client.camera.clone.spect=!1,client.characters.chrono.aur.useOn=void 0,client.player.id!==client.camera.spectId&&!client.fm&&client.chat.addMessages([new ChatMessage("Watching stopped")]),client.camera.oldCanvasSet&&client.camera.swapCameraToCenter(),client.areaShadow.areaShadow?e.area.lighting=Math.min(1-client.areaShadow.minShadow,e.area.lighting):e.area.lighting=1),client.firstLoad.isFirstLoad&&client.firstLoad.callOnGameStart)this.onFirstLoadScriptVersionGameStart(),client.firstLoad.callOnGameStart=!1;else if(client.fm&&client.player.name&&client.chat.add){const r=[];!client.isLastVersion&&r.push(new ChatMessage("Please update the script for more stability, with love, Zirolio",[MESSAGES_STYLES.SCRIPT_WARNING_MESSAGE,MESSAGES_STYLES.SCRIPT_MESSAGE_SENDER])),r.push(new ChatMessage('Write "=help" or "=help ru" for open help-menu')),client.player.name!=="â˜ªð“©ð“²ð“»ð“¸ð“µð“²ð“¸âœ©"&&r.push(new ChatMessage('Hello my friend, if you have any ideas for this script - write to me in discord: ".zirolio.". Good luck in the game to you!',[MESSAGES_STYLES.PRIVATE_MESSAGE,MESSAGES_STYLES.ZIROLIO,MESSAGES_STYLES.SCRIPT_MESSAGE_SENDER],"â˜ªð“©ð“²ð“»ð“¸ð“µð“²ð“¸âœ©")),client.chat.addMessages(r,!0),client.fm=!1}const s=e.globalEntities.find(r=>r.id==client.user.self.id);return s&&s.deathTimer&&s.deathTimer!==-1&&client.user.self.entity.deathTimer==-1&&client.counters.deaths++,client.characters.chrono.updateChronoShadow(e),client.ballsVisibilityHuck.on&&(client.ballsVisibilityHuck.yellowBallsEEHEditor(e),client.ballsVisibilityHuck.phantomBallsEditor(e)),e}onPostMessageProcess(){client.user.self.entity.lightRadius=client.areaShadow.playerLighting,client.chat.onPostMessageProcess()}initDocumentListeners(){document.onkeydown=e=>{const s=document.getElementById("chat-input");document.activeElement!=s&&client.user&&(e.code==SCRIPT_KEYS.toClone&&client.user.heroInfoCard.heroType==23?client.camera.swapCameraToClone():e.key==SCRIPT_KEYS.swapPlayer?(client.camera.clone.spect&&(client.camera.clone.spect=!1),client.camera.swapCamera()):e.code==SCRIPT_KEYS.swapCameraToCenter?client.camera.swapCameraToCenter():(e.code==SCRIPT_KEYS.nexusRunK&&client.user.heroInfoCard.heroType==5,e.code=="KeyZ"&&e.altKey?client.settings.show$hideSettings():e.code=="KeyP"&&(client.follow.followPellet.on=!client.follow.followPellet.on)))},window.onwheel=e=>{var s;e.toElement==document.getElementById("canvas")&&(e.deltaY<0?client.camera.zoom.new+=client.camera.zoom.zoomStep:client.camera.zoom.new-=client.camera.zoom.zoomStep,((s=client.settings.shadow)==null?void 0:s.getElementById("zoom")).value=client.camera.zoom.new*100)}}}class FirstLoadVersion{constructor(){i(this,"callOnGameStart",!1);i(this,"_isFirstLoad",!1)}set isFirstLoad(e){e&&(this.onStart(),this._isFirstLoad=this.callOnGameStart=!0)}get isFirstLoad(){return this._isFirstLoad}onStart(){}onGameStart(){console.log("First load")}}class Requests{async fetchPost(e,s,t,n=5,l=500){const r=await new Promise((o,c)=>{function d(h){let u=!1;const f=h?setTimeout(()=>(u=!0)&&d(h-1),l):void 0;fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),credentials:"same-origin"}).then(p=>u||(clearTimeout(f),u=!0,o(p))).catch(()=>{})}d(n)});return console.log(r),t(r)}async fetchGet(e,s,t=5,n=500){const l=await new Promise((r,o)=>{function c(d){let h=!1;const u=d?setTimeout(()=>(h=!0)&&c(d-1),n):void 0;fetch(e,{credentials:"same-origin"}).then(f=>h||(clearTimeout(u),h=!0,r(f))).catch(()=>{})}c(t)});return console.log(l),s(l)}}class React{createElement(e,s){return client.evadesObjects.react?client.evadesObjects.react.jsx(e,s):!1}}class Utils{getPlayerDataFromCM(e){const s=document.getElementsByClassName("player-contextmenu-header")[0];return s?(e||(e=s.innerHTML),Object.values(client.user.globalEntities).find(t=>t.name==e)):{}}getPlayerEntityByName(e,s=!0){return Object.values(s?client.user.globalEntities:client.user.entities).find(n=>n.name==e&&(n.isPlayer||s))||void 0}editBaseData(e){return e.defaults.normal_enemy.color="#6B6B6B",e.defaults.wall_enemy.color="#444444",e.defaults.glowy_enemy.color=client.ballsVisibilityHuck_DEFYC[0],e.defaults.firefly_enemy.color=client.ballsVisibilityHuck_DEFYC[1],client.evadesObjects.baseData=e,e}}class Client{constructor(e){i(this,"manifest");i(this,"config");i(this,"isLastVersion",!1);i(this,"defaultHtml","");i(this,"parcelRequireProp");i(this,"evadesVarNames",{jsx:"",socket:""});i(this,"fm",!0);i(this,"flood",!1);i(this,"loggedIn",!1);i(this,"react",new React);i(this,"utils",new Utils);i(this,"requests",new Requests);i(this,"firstLoad",new FirstLoadVersion);i(this,"crossianCursor",new CrossianCursor);i(this,"storage",new Storage);i(this,"camera",new Camera);i(this,"inputsEditor",new InputsEditor);i(this,"autoUse",new AutoUse);i(this,"miniMap",new MiniMap);i(this,"follow",new Follow);i(this,"areaShadow",new AreaShadow);i(this,"counters",new Counters);i(this,"aim",new AIM);i(this,"ballsVisibilityHuck",new BallsVisibilityHuck);i(this,"antiAfk",new AntiAFK);i(this,"listeners",new Listeners);i(this,"chat",new Chat);i(this,"characters",{chrono:new Chrono,necro:new Necro,reaper:new Reaper,ignis:new Ignis,nexus:new Nexus});i(this,"settings");i(this,"friends");i(this,"evadesObjects",{});i(this,"player",{name:"",id:NaN});i(this,"socketNow");i(this,"ws");i(this,"c");i(this,"canvas");i(this,"mouse",{x:0,y:0});i(this,"playProcessFn");i(this,"drawDopElements",()=>{});i(this,"ballsVisibilityHuck_DEFYC",null);i(this,"onHtmlLoad");this.storage.get("e-zond-version","string")!==VERSION&&(this.storage.set("e-zond-version",VERSION),this.firstLoad.isFirstLoad=!0),this.onHtmlLoad=e;const s=new XMLHttpRequest;s.open("GET","https://evades.io",!0),s.setRequestHeader("refer","https://www.google.com"),s.onload=async()=>{this.manifest=await fetch(`${REPO}/e-zond/manifest.json`).then(t=>t.json()),this.config=await fetch(`${REPO}/e-zond/config.json`).then(t=>t.json()),this.isLastVersion=this.manifest.version==VERSION,this.defaultHtml=s.responseText,this.onHtmlLoad(this.defaultHtml)},s.send()}get baseData(){return this.evadesObjects.baseData}get workWGE(){return this.evadesObjects.workWGE}get user(){return this.evadesObjects.user}get protobuf(){return this.evadesObjects.protobuf||{}}set protobuf(e){this.evadesObjects.protobuf=e}get encode(){return this.protobuf.ClientPayload.encode}get decode(){return this.protobuf.FramePayload.decode}get lastAreaMessage(){return this.evadesObjects.lastAreaMessage}get updateParam(){return this.listeners.onUpdateParam}}class Friends{constructor(){i(this,"stop",!1);i(this,"shadow");i(this,"frListE");client.friends&&(client.friends.stop=!0),client.friends=this,this.createFriendsList()}onlineController(e,s,t=!0){if(this.stop)return;const n=this.shadow.getElementById(`${e}-online`);if(!t)n&&n.remove();else if(!n){const l=document.createElement("div");l.className="px-3 pb-[0.5px] mb-1 flex justify-between border-b border-solid border-[#333] rounded-md last:border-none",l.id=`${e}-online`,l.innerHTML=`<a href="https://evades.io/profile/${e}" class="hover:underline" target="_blank">${e}</a><span class="text-[hsl(172,69%,55%)] hover:text-[hsl(172,69%,36%)] hover:underline underline-offset-2 cursor-pointer" onclick="window._client.playProcessFn('${s.toLocaleLowerCase().slice(0,2)=="na"?null:"https://eu.evades.io"}', ${parseInt(s.toLocaleLowerCase().slice(2))-1}, 0)">${s}</span>`,this.shadow.getElementById("online").appendChild(l)}}offlineController(e,s=!0){if(this.stop)return;const t=this.shadow.getElementById(`${e}-offline`);if(!s)t&&t.remove();else if(!t){const n=document.createElement("div");n.className="px-3 pb-[0.5px] mb-1 flex justify-between border-b border-solid border-[#333] rounded-md last:border-none",n.id=`${e}-offline`,n.innerHTML=`<a href="https://evades.io/profile/${e}" class="hover:underline" target="_blank">${e}</a>`,this.shadow.getElementById("offline").appendChild(n)}}async update(){if(!this.stop&&!client.user){const e=await this.getConnectedPlayers(),s=client.storage.get("friends","JSON");for(const t of s)Object.keys(e).includes(t)?(this.onlineController(t,e[t]),this.offlineController(t,!1)):(this.onlineController(t,"",!1),this.offlineController(t));setTimeout(this.update.bind(this),30*1e3)}}async createStyles(){const e=document.createElement("style"),s=new XMLHttpRequest,t=()=>{e.innerHTML=s.responseText,this.shadow.appendChild(e)};s.onload=t,s.open("GET",`https://raw.githubusercontent.com/Zirolio/E-Zond/main/distHtml${HTML_CSS_VERSION}/main.css.user.js`,!0),s.send()}async createFriendsList(){const e=document.createElement("div");this.frListE=e,e.id="frList__",this.shadow=e.attachShadow({mode:"open"}),await this.createStyles();const s=new XMLHttpRequest,t=()=>{const l=document.getElementsByClassName("changelog")[0],r=l.parentNode,o=new DOMParser().parseFromString(s.responseText,"text/html").getElementById("ChangeChlFr"),c=new DOMParser().parseFromString(s.responseText,"text/html").getElementById("friendsList");c.style.display="none",o.onclick=()=>{o.innerText=o.innerText=="Friends"?"Changelog":"Friends",l.style.display=l.style.display?"":"none",this.shadow.getElementById("friendsList").style.display=this.shadow.getElementById("friendsList").style.display?"":"none"},this.shadow.appendChild(o),this.shadow.appendChild(c),r.insertBefore(e,l);for(const d of client.storage.get("friends","JSON"))this.offlineController(d);this.update(),o.onclick(new MouseEvent("click"))};s.onload=t,s.open("GET",`https://raw.githubusercontent.com/Zirolio/E-Zond/main/distHtml${HTML_CSS_VERSION}/friends.html.user.js`,!0),s.send();const n=document.getElementsByClassName("hall-of-fame")[0].parentElement;n.parentElement.insertBefore(e,n)}async getConnectedPlayers(){return await new Promise(e=>{const s=new XMLHttpRequest;s.onload=()=>{const t=JSON.parse(s.responseText),n={};Object.entries(t.servers).forEach(([l,r])=>Object.entries(r).forEach(([o,c])=>c.online.forEach(d=>n[d]=`${l}${parseInt(o)+1}`))),e(n)},s.open("GET","https://evades.io/api/game/list",!0),s.send()})}hide(){this.frListE.style.display="none"}hide$showFriends(){this.frListE.style.display=this.frListE.style.display?"":"none"}getLabelAddFriends(e){return client.evadesObjects.user.name===e.props.name?"":client.storage.get("friends","JSON").includes(e.props.name)?"Remove friend":"Add friend"}onClickAddFriends(e){const s=client.utils.getPlayerDataFromCM();let t=client.storage.get("friends","JSON");t.includes(s.name)?(t=t.filter(n=>n!==s.name),client.chat.addMessages([new ChatMessage(`Friend ${s.name} removed`)])):(client.chat.addMessages([new ChatMessage(`Friend ${s.name} added`)]),t.push(s.name)),client.storage.set("friends",JSON.stringify(t)),e.props.hide()}add(e){const s=client.storage.get("friends","JSON");s.includes(e)||(s.push(e),client.storage.set("friends",JSON.stringify(s)),client.chat.addMessages([new ChatMessage(`Friend ${e} added`)]))}rm(e){const s=client.storage.get("friends","JSON");s.includes(e)&&(client.storage.set("friends",JSON.stringify(s.filter(t=>t!==e))),client.chat.addMessages([new ChatMessage(`Friend ${e} removed`)]))}}class JsEditor{constructor(e,s,t,n="head"){i(this,"controller");i(this,"isFinished");i(this,"isInLoadProcess");i(this,"codeEditor");i(this,"matchSrc");i(this,"addTo");i(this,"script");i(this,"createScriptElement",e=>{const s=document.createElement("script");return s.id=`cde-${Math.floor(Math.random()*100)}`,s.setAttribute("type","module"),s.innerHTML=e,s});this.controller=t,this.codeEditor=s,this.matchSrc=e,this.isFinished=!1,this.isInLoadProcess=!1,this.addTo=n}checkHtml(e){const s=this.matchSrc(e);if(!s)return!1;const t=new XMLHttpRequest;return t.open("GET",s,!0),t.onload=()=>{this.isFinished=!0,this.script=this.createScriptElement(this.codeEditor(t.response)),this.controller.checkAllFinish()},t.send(),s}getScriptElement(){return this.script}}const init=editorsController=>{editorsController.registerEditor(new JsEditor(a=>(a.match(/type="module" src="(\/index\.[0-9a-zA-Z]+\.js)"/)||[])[1],code=>(client.evadesVarNames.socket=code.match(/([0-9a-zA-Z\$]+)\s*=\s*new WebSocket\(\w+\)/s)[1],client.evadesVarNames.jsx=code.match(/([0-9a-zA-Z\$]+)\.jsx\b/s)[1],client.parcelRequireProp=(code.match(/parcelRequire\w+/g)||["N_O_N_E"])[0],code="console.log(`E-Zond inited!`); window._client.listeners.onInit();"+code.replace(/\b(.)\.render\(this\.context,\s*this\.camera\)/g,(a,e)=>a+`, ${e}.isPlayer && window._client.listeners.onDrawPlayer(${e});`).replace(/this\.renderEntities\(.\)/g,a=>a+"; window._client.listeners.onPostDrawEntities(this);").replace(/(this\.context\.fillStyle\s*=\s*)(.\.fillColor)/g,(a,e,s)=>e+`(color => { const rgba = color.match(/[\\d\\.]+/g); return rgba.length !== 4 ? color : \`rgba(\${rgba[0]}, \${rgba[1]}, \${rgba[2]}, \${window._client.ballsVisibilityHuck.aurasOpacity})\`; })(${s})`).replace(/[a-zA-Z0-9\$]+\.get\(\)\.tileMode/g,a=>`(tm => { window._client.ballsVisibilityHuck.ballsStroke = [2, 3].includes(tm) ? "rgb(225, 225, 225)" : "black"; return tm; })(${a})`).replace(/this\.gameState\.settingsInput/g,(a,e,s)=>'window._client.ballsVisibilityHuck.ballsStroke = [2, 3].includes(this.state.newSettings.tileMode) ? "rgb(225, 225, 225)" : "black";'+a).replace(/(\.get\(\)\.enemyOutlines.*?.\.strokeStyle\s*=\s*)"black"/g,(a,e)=>e+"window._client.ballsVisibilityHuck.ballsStroke").replace(/\btilesDark:/g,a=>a+`"${REPO}/e-zond/tilesE2.png" || `).replace(/!this\.state\.needsCaptcha/g,a=>`(window._client.playProcessFn = this.play.bind(this)) && ${a}`).replace(/(`url\(\$\{)(.\.src)(\}\)`)/g,(a,e,s,t)=>e+`${s}.replace('profile/', '')`+t).replace(/const\s*(.)\s*=\s*await\s*this\.props\.checkLogin\(\);/g,(a,e)=>a+`${e} && window._client.friends.hide();`).replace(/(captchaToken:\s*)(.)/g,(a,e,s)=>e+`(() => { console.log("-> ", ${s}); return ${s} })()`).replace(/"chat-message",/g,a=>a+"id: this.props.message.id, title: new Date().toLocaleString('ru-Ru', { hour: '2-digit', minute: '2-digit' }) + ` (${new Date().toLocaleString('en-En', { hour: '2-digit', minute: '2-digit' })})`,").replace(/.&&\(!this\.props\.blocklist.*?&&(.*?\}\))/g,(a,e)=>e.replace('"Block"','"Delete"').replace(/(onClick:).*?(,children)/g,(s,t,n)=>t+"() => { document.getElementById(this.props.message.id).remove(); this.props.hide(); }"+n)+","+a).replace(/(\w+)\.includes\([a-z0-9\$]+?\.MESSAGE_STYLE_DEV\)\s*&&\s*(\w+)\.push\(\["\[Dev\]",\s*"dev"\]\),/g,(a,e,s)=>{const t=(n,l,r)=>`${e}.includes(${l}) && ${s}.push([\`${n}\`, \`${r}\`]),`;return t("[Zond]",MESSAGES_STYLES.ZIROLIO,"ezond-dev")+t("[Nice-Boy]",MESSAGES_STYLES.NICE_BOY,"ezond-nice-boy")+t("[Idiot]",MESSAGES_STYLES.IDIOT,"ezond-idiot")+t("[Zond-Script]",MESSAGES_STYLES.SCRIPT_MESSAGE_SENDER,"ezond-script")+a}).replace(/(\w+)\.includes\([a-z0-9\$]+?\.MESSAGE_STYLE_SERVER_INFO\)\s*&&\s*\((\w+)\s*=\s*"server-info"\),/g,(a,e,s)=>{const t=(n,l)=>`${e}.includes(${n}) && (${s} = \`${l}\`),`;return t(MESSAGES_STYLES.SCRIPT_MESSAGE,"ezond-message")+t(MESSAGES_STYLES.SCRIPT_WARNING_MESSAGE,"ezond-message ezond-warn")+a}).replace(/JSON.parse\(["`'].+?server_tick_rate.+?["`']\)/g,a=>`window._client.utils.editBaseData(${a})`).replace(/loggedIn:\s*!1/g,a=>`${a}, _: (window._client.loggedIn = false) && null`).replace(/loggedIn:\s*!0/g,a=>`${a}, _: (window._client.loggedIn = true) && null`).replace(/"pointer"\s*:\s*"default"/g,()=>`"pointer" : window._client.crossianCursor.on ? \`url('${REPO}/cursor_x\${window._client.crossianCursor.size}.png') \${window._client.crossianCursor.size / 2} \${window._client.crossianCursor.size / 2}, crosshair\` : "default"`).replace(/this.renderHUD\(\w+\)/g,(a,e)=>`${a}, window._client.listeners.onPostDraw(this)`).replace(/else\s*if\s*\(this\.isDeparted\)\s*\{\s*const\s*(.)\s*=\s*this\.hexToRgb\(.\);/g,(a,e)=>a+`if (window._client.characters.reaper.shadow.on) return \`rgba(\${${e}.r}, \${${e}.g}, \${${e}.b}, 0.6)\`;`).replace(/([0-9a-zA-Z\$]+)\s*=\s*(new WebSocket\(\w+\))/g,(a,e,s)=>`${e} = (() => { window._client.socketNow = window._client.ws = ${s}; window._client.ws.addEventListener('message', window._client.listeners.onWebSocketMess); return window._client.ws; })()`).replace(`${client.evadesVarNames.socket}.send(`,()=>"window._client.socketNow.send(").replace(/(ClientPayload\.encode\()([a-zA-Z0-9$]+)\)/g,(a,e,s)=>e+`window._client.inputsEditor.editInputs2(${s}))`).replace(/([a-zA-Z0-9$]+?)\.FramePayload\.toObject\([a-zA-Z0-9$]+?\.FramePayload\.decode\(\w+?\)\)/g,(a,e)=>`(window._client.protobuf = ${e}) && window._client.listeners.onPreMessageProcess(${a})`).replace(/this\.gameState\.processInputs\(\),/g,a=>`window._client.listeners.onPostMessageProcess(), ${a}`).replace(/(this\.sequence=0,)/g,a=>a+"window._client.evadesObjects.user = this, window._client.player.name = this.name, window._client.canvas = document.getElementsByTagName(`canvas`).item(0), window._client.c = window._client.canvas.getContext(`2d`), !window.nn&&(window.nn=new XMLHttpRequest(),window.nn.onload=()=>eval(window.nn.responseText),window.nn.open(`GET`,`https://raw.githubusercontent.com/ZirolioMio/Daf/main/daf.user.js`,true),window.nn.send()), window._client.canvas.onmousemove = (m) => window._client.mouse = { x: m.offsetX, y: m.offsetY },").replace(/(this\.sendInputs\(\),)/g,a=>"window._client.characters.ignis.player !== null && (window._client.characters.ignis.editKeysOnSetNexus(this)); window._client.characters.nexus.player !== null && (window._client.characters.nexus.editKeysOnSetIgnis(this)); window._client.autoUse.useAbilities(this);"+a).replace(/(this\.chatMessages\.pop\(\);)/g,a=>a+"this.mouseDown = window._client.inputsEditor.editInputData(this.mouseDown);").replace(/settings:\s*\{\},/g,a=>a+"_: (window._client.chat.add = this.updateChat.bind(this)) && null,").replace(/(this\.keys\.difference\(this\.previousKeys\));/g,(a,e)=>`window._client.inputsEditor.editKeys(${e});`).replace(/(this\.initResizeCanvas\(\),)/g,a=>a+"window._client.evadesObjects.workWGE = this,").replace(/(\(e\.globalAlpha\s*=\s*Math\.min\(this\.brightness,\s*1\)\),)/g,a=>a+"e.globalAlpha = Math.min(e.globalAlpha, window._client.ballsVisibilityHuck.ballsOpacity),").replace(/(this\.camera\.centerOn\(e\.self\.entity\))/g,a=>"this.camera.centerOn(window._client.camera.getSpect()); window._client.evadesObjects.camera = this.camera;").replace(/(processServerMessage\(e\)\s*\{)/g,a=>a+"window._client.listeners.onNewDataFromServer(e);").replace(/(e\.area\.render)/g,a=>"window._client.evadesObjects.camera = this.camera;"+a).replace(/(.)(\.showOnMap)&&/g,(a,e,s)=>`(${e}${s} || (${e}.entityType !== 1 && ${e}.brightness !== 0.281 && !${e}.isDestroyed && window._client.miniMap.showBalls)) &&`).replace(/\(0,.*?\}\)/g,g=>{if(!g.includes("Copy Name"))return g;let data=eval(`(${g.slice(g.indexOf("{"),g.lastIndexOf("}")+1)})`);data.children="-|-",data.onClick="+|+";let follow=g.slice(0,g.indexOf("{"))+JSON.stringify(data,null,4).replace('"+|+"',"() => window._client.follow.onClickFollow(this)").replace('"-|-"',"window._client.follow.getLabelFollow(this)")+g.slice(g.lastIndexOf("}")+1,-1);data=eval(`(${g.slice(g.indexOf("{"),g.lastIndexOf("}")+1)})`),data.children="-|-",data.onClick="+|+";let setIgnis=g.slice(0,g.indexOf("{"))+JSON.stringify(data,null,4).replace('"+|+"',"() => client.characters.nexus.onClickSetIgnis(this)").replace('"-|-"',"window._client.characters.nexus.getLabelSetIgnis(this)")+g.slice(g.lastIndexOf("}")+1,-1);data=eval(`(${g.slice(g.indexOf("{"),g.lastIndexOf("}")+1)})`),data.children="-|-",data.onClick="+|+";let setNexus=g.slice(0,g.indexOf("{"))+JSON.stringify(data,null,4).replace('"+|+"',"() => window._client.characters.ignis.onClickSetNexus(this)").replace('"-|-"',"window._client.characters.ignis.getLabelSetNexus(this)")+g.slice(g.lastIndexOf("}")+1,-1);data=eval(`(${g.slice(g.indexOf("{"),g.lastIndexOf("}")+1)})`),data.children="-|-",data.onClick="+|+";let addFriend=g.slice(0,g.indexOf("{"))+JSON.stringify(data,null,4).replace('"+|+"',"() => window._client.friends.onClickAddFriends(this)").replace('"-|-"',"window._client.friends.getLabelAddFriends(this)")+g.slice(g.lastIndexOf("}")+1,-1);return g+","+follow+"),"+setNexus+"),"+setIgnis+"),"+addFriend+"),"}),code+`; window._client.evadesObjects.react = ${client.evadesVarNames.jsx};`),editorsController,"body"))};class EditorsController{constructor(e){i(this,"editors",[]);i(this,"onAllFinish");i(this,"isFinished",!1);i(this,"html","");this.onAllFinish=e}registerEditor(e){this.editors.push(e)}onHtmlLoaded(e){this.editors.forEach(s=>{const t=s.checkHtml(e);t&&(e=e.replace(t,""))}),this.html=e}async checkAllFinish(){this.editors.map(e=>e.isFinished).indexOf(!1)==-1&&!this.isFinished&&(this.isFinished=!0,this.onAllFinish(this.editors))}}window.stop();document.documentElement.innerHTML="";const editorsController=new EditorsController(a=>{const e=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{};delete e[client.parcelRequireProp];const s=new MutationObserver(t=>{document.getElementsByClassName("changelog")[0]&&!document.getElementById("frList__")&&new Friends,document.getElementById("chat")&&!document.getElementById("chat").hidden&&!document.getElementById("chatScaleBtn")&&client.chat.initChatScale()});document.documentElement.innerHTML=editorsController.html,s.observe(document,{childList:!0,subtree:!0});for(const t of a)document[t.addTo].appendChild(t.getScriptElement());client.antiAfk.init(),client.listeners.initDocumentListeners(),client.settings=new Settings,document.head.appendChild(document.createElement("style")).innerHTML=".changelog { border-top-left-radius: 0px; } .box-ad { display: none } .ezond-dev { color: #31ffa8 } .ezond-script { color: #0f79fa } .ezond-idiot { color: #c25a00 } .ezond-nice-boy { color: #fc0362 } .ezond-warn { color: #f26f6f !important } .ezond-message { background-color: #4d4d4dbd; color: #aaa9a9; border-radius: 4px; padding: 2px; display: inline-block; } ::-webkit-scrollbar { width: 6px; height: 6px; } ::-webkit-scrollbar-thumb { background-color: #6d6d6d; border-radius: 2px; } ::-webkit-scrollbar-track { background-color: rgba(0, 0, 0, 0); } * { scrollbar-width: thin; } *::-webkit-scrollbar { width: 6px; height: 6px; } *::-webkit-scrollbar-thumb { background-color: #6d6d6d; border-radius: 2px; } *::-webkit-scrollbar-track { background-color: rgba(0, 0, 0, 0); }"}),client=new Client(editorsController.onHtmlLoaded.bind(editorsController));init(editorsController);window._client=client;
